---
title: "14 minesweeper variations 定石"
description: 
slug: "14mine"
date: 2023-01-24T16:00:36+09:00
categories:
    - パズル
tags: 
    - マインスイーパー
image: 
draft: true
---

めっちゃ作り途中

## はじめに
私はsteamで配信されている『14種のマインスイーパーバリエーション』にハマりました．理詰めのパズルゲーです．
ゲームはこちら→ https://store.steampowered.com/app/1865060/14/

このパズルゲーにはヒント機能があるのですが，長考してもわからない場合にヒントを見ると，それが案外単純なロジックで「ああこれと同じロジック前やったわ学習しろや俺」になります．
そのようなことが多発したので，自分の思考を整頓するために書きました．見つけ次第追加していきます．

実際のところ，このゲームはこういった定石を把握してようやくまともにパズルと戦えるような難易度をしています．そして，後半には定石ブレイカーとも言える融合ルールが存在するため，タイムを安定させて解けるようになるには，結局訓練あるのみだと思います．

あと，私の趣味でこういう定石に名前がついていると覚えやすいかつ愛着が湧くので適当に命名しています．

## 用語など
### 自明
数字自体をクリックすると，自明な部分[^1]を自動で埋めてくれます．初手は何も考えずに数字をクリックすると自明パートをスキップできます．

[^1]:おそらく，その数字のみと，周囲8マスの数字を除く情報で確定する周囲のマスが埋まります．

### 等価な盤面


## [V] Vanilla
バニラと言いながら，理詰めで解けるようにしてあるため，一般的なマインスイーパーとは仕様が異なる部分があります．また，パズル生成がかなり洗練されていて，一つの数字だけで確定することがほとんどありません(というか，そのような場合は自動で補完をしてくれる)．バニラだからといってなめてかかると痛い目を見ます(見ました)．

### 大きい数字と小さい数字
[1]があるので，「6」の周りの5個は確定します．同時に[1]の周りの地雷のない場所も確定します．
{{< figure src="./img/v02-1.png" height="200" width="200">}}
「7」と[2]でも成り立ちます．
{{< figure src="./img/v02-2.png" height="200" width="200">}}
壁に張り付いているパターンも考えられます．
{{< figure src="./img/v02-3.png" height="200" width="200">}}
隣接している場合もあります．
{{< figure src="./img/v02-5.png" height="200" width="200">}}

近くにある大きい数字と小さい数字を見つけたときは，
1. 大きい数字の周り(ただし小さい数字に影響を与えないところ)にできるだけ地雷を配置
1. 配置しきれなかった個数が小さい数字と一致しているか？

の手順で確かめることができます．

こんなパターンも考えられます(定石と呼ぶには少し複雑かもしれません)．
{{< figure src="./img/v02-4.png" height="200" width="200">}}
今回，このように亜種を列挙していくとキリがないので，適当に選んで載せていきます．

### 壁から生えた同じ数字
同じ数字が壁から並んでいる場合，地雷の具体的な場所は分かりませんが，壁の反対側には地雷がないことがわかります．
{{< figure src="./img/v01-1.png" height="200" width="200">}}
これは，[1]以外の数字[2],[3],[4]でも成り立ちます．また，ルール[M]でも有効です．
{{< figure src="./img/v01-2.png" height="200" width="200">}}
図では外枠に隣接していますが，外枠の代わりに空きマスがあってももちろん使えます．


## [Q] Quad
$2\times 2$のうち3マスが空きマス確定しているのであれば，残りの1マスは地雷です．当たり前ではあるのですが，たまに見逃してしまいます．序盤に早速触ると難しく感じましたが，他のルールを触っていったりすると全然わかりやすい方だと気づきました．
### 壁1
壁に張り付いている[1]は確定します．
{{< figure src="./img/q01-1.png" height="200" width="200">}}
次の状態は「壁に張り付いている1」と等価ですので確定します．
{{< figure src="./img/q01-2.png" height="200" width="200">}}
### [2]のChainルール
壁に隣接していない[2]の斜め方向には地雷がありません．
{{< figure src="./img/q02-1.png" height="200" width="200">}}
そして，次の2通りどちらかの状態になります．地雷がL字に配置されると[Q]のルールを満たさないからです．
{{< figure src="./img/q02-2.png" height="200" width="200">}}
{{< figure src="./img/q02-3.png" height="200" width="200">}}
これにより，周りの数字のヒントになることがあります．
{{< figure src="./img/q02-4.png" height="200" width="200">}}
複数個[2]が斜めに並んでいても，必ず2通りのどちらかになります．連鎖的に候補が決まっていくので私は勝手に「2のChainルール」と呼んでいます．
{{< figure src="./img/q02-5.png" height="200" width="200">}}
{{< figure src="./img/q02-6.png" height="200" width="200">}}
### [3]の対角線ルール
[2]の斜め方向には地雷を置いてはいけませんでしたが，[3]の
斜め方向には地雷を置いても問題ありません．ただし，どこでもいいわけではなく，次のように既に1つ置かれている場合は斜め方向に地雷を置いてはいけません．
{{< figure src="./img/q03-1.png" height="200" width="200">}}

## [M] Multiple
バニラの定石がそのまま使えることが多いです．
色付きのマスと確定するマスを同時に表現するのが難しかったため，色付きマスは代わりに小さい数字を使って表現しています．
### 1の影響
あと1個地雷を置くけど，どこかわからない状態でも，ルール[M]であれば，色付きのマスに置くことができないとわかります．
{{< figure src="./img/m02-1.png" height="200" width="200">}}
こちらは遠くが確定する忘れがちなパターンです．
{{< figure src="./img/m03-1.png" height="200" width="200">}}
### よくある形
壁から一列に数字が並ぶことがよくあります．とりあえず，初手は壁から並んでいる数字に注目します．
{{< figure src="./img/m01-1.png" height="200" width="200">}}
{{< figure src="./img/m01-2.png" height="200" width="200">}}
{{< figure src="./img/m01-3.png" height="200" width="200">}}
左から，[7][5][4][3]になっているパターンも見かけます．
### 大きい数字と小さい数字
[V]と同様に大きめの数字と小さめの数字が近くにあると確定することがあります．
{{< figure src="./img/m04-1.png" height="200" width="200">}}


## [C] Connected
- 細い道を塞いだらConnectedができなくなってしまう，だから地雷を置くしかない．
- ここに地雷を置いたら，数が合わずに細い道に地雷を置けなくなってしまい，Connectedできなくなる，だから地雷を置くことができない
というロジックが多いです．斜めに隣接していればokのルールが結構自由度を上げていて，中々確定しないのがもどかしい．
### ヒント機能
[4]のヒントが無意味に見えますが，[4]の場所にも地雷を置く必要があることを示しています．
初見時に混乱しがちです．
{{< figure src="./img/css.png">}}

### 角，壁
壁近くの[1][2]は空きマスが確定することがあります．
{{< figure src="./img/c01-3.png" height="200" width="200">}}
{{< figure src="./img/c01-1.png" height="200" width="200">}}
{{< figure src="./img/c01-2.png" height="200" width="200">}}
次の盤面はそのままでてくることはありえませんが，等価の盤面がでてくることはあります．頻出です．
{{< figure src="./img/c01-4.png" height="200" width="200">}}
### 細い道
赤色のマスに置かない場合，その下のマスにも置けなくなってしまい，3つも置けなくなってしまいます．
{{< figure src="./img/c04-1.png" height="200" width="200">}}



### 斜めが確定
次の緑マスを地雷にしてしまうとConnectedできなくなります．逆に，他のマスは地雷でもConnectedする方法があります．かなり非自明(だと思う)ので注意です．
{{< figure src="./img/c03-1.png" height="200" width="200">}}


## [L] Liar

### 0は1
-1個はありえませんので，それはそうです．

## [T] Triplet
そのマスを空白にしたら3つ並んでしまう，という考えで

## [W] Wall
良心枠です．シャカシャカに似ている気がします．
## [O] Outside
ルールがシンプルに見えながら，この配置はいいのかどうかが結構こんがらがります．
基本的に**斜め配置はマズい**です．地雷が確定しているますの斜め方向に地雷を置いたときに，その間を埋めることが可能であるかを考えます．
### 斜めはマズい
地雷同士が斜め方向につながっている状態ができてはなりません．斜めに置く場合には横か縦に連結させる必要があります．そこが塞がっていればどちらか片方にしか置けません．
{{< figure src="./img/o01-1.png" height="200" width="200">}}
{{< figure src="./img/o01-2.png" height="200" width="200">}}
逆に，既に斜めに配置されている場合は，その間を補間しなければなりません．次の盤面では，水色のマスの内どちらかに地雷を置く必要があります．
{{< figure src="./img/o02-1.png" height="200" width="200">}}

このルールにおいて，[2]に隣接する地雷はとても強力です．
{{< figure src="./img/o03-1.png" height="200" width="200">}}
{{< figure src="./img/o01-5.png" height="200" width="200">}}
1が斜めに並んでいるとその間に置くことすらできません．
{{< figure src="./img/o04-1.png" height="200" width="200">}}
### 初期配置
{{< figure src="./img/o01-6.png" height="200" width="200">}}
代わりに[3]と空きマスが置かれるパターンも見られます．
{{< figure src="./img/o01-7.png" height="200" width="200">}}

### 終盤
終盤，数字のヒントが効かなくなった場合は残りの地雷数がヒントになります．
次の盤面では青のマスに地雷を置くと追加でさらに3つの地雷を置く必要がでてきます．のこりの地雷数が3以下であれば青のマスに地雷を置くことはできません．
{{< figure src="./img/o05-1.png" height="200" width="200">}}

### 斜めはマズい2
{{< figure src="./img/o06-1.png" height="200" width="200">}}


## [N] Negation
中々コツが掴みづらいルールだと思います．
### 0
0は影響を与えません．

## [D] Dual
シンプルなルールに見えながら，Tripletと同じく数字マスとは離れたところが確定することが多くてかなり難しいです．
## [X] Cross
良心枠だと思っています．
## [S] Snake
簡単に見えましたが，全然そんなことはなかったです．パリティを考えます．
## [P] Partition
どこまで壁を伸ばせるかを考えるのが基本です．
## [B] Balance
ナンプレに近いです．
## [E] Eyesight
同じ行/列に並んでいる数字の差分に注目します．
### [E]-01

## [#+]
このパズルはルールが複合することにより，定石が通用しなくなってしまいます(絶望)
